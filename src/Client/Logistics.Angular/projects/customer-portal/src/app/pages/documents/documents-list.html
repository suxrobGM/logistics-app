<div class="mb-6">
  <h1 class="text-2xl font-bold text-gray-900">My Documents</h1>
  <p class="mt-1 text-gray-500">All documents from your shipments</p>
</div>

@if (isLoading()) {
  <div class="flex items-center justify-center py-12">
    <p-progress-spinner strokeWidth="4" />
  </div>
} @else {
  <div class="rounded-lg bg-white shadow">
    <p-table [value]="documents()" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template #header>
        <tr>
          <th>Document</th>
          <th>Type</th>
          <th>Shipment</th>
          <th>Date</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template #body let-doc>
        <tr>
          <td class="font-medium">{{ doc.fileName }}</td>
          <td>
            <p-tag [value]="getDocumentTypeLabel(doc.documentType)" severity="info" />
          </td>
          <td>
            @if (doc.loadId) {
              <a [routerLink]="['/shipments', doc.loadId]" class="text-primary hover:underline">
                Load #{{ doc.loadNumber }}
              </a>
            } @else {
              -
            }
          </td>
          <td>{{ doc.createdAt | date: "mediumDate" }}</td>
          <td class="text-right">
            <p-button icon="pi pi-download" [text]="true" label="Download" />
          </td>
        </tr>
      </ng-template>
      <ng-template #emptymessage>
        <tr>
          <td colspan="5" class="py-12 text-center">
            <i class="pi pi-file mb-2 text-4xl text-gray-300"></i>
            <p class="text-gray-500">No documents found</p>
            <p class="mt-1 text-sm text-gray-400">
              Documents will appear here when they are added to your shipments
            </p>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
}
