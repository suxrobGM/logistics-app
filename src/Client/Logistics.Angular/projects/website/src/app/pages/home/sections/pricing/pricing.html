<web-section-container sectionId="pricing" background="white">
  <div webScrollAnimate="fade-up">
    <web-section-header
      label="Pricing"
      title="Plans that scale with your fleet"
      subtitle="Base fee plus a per-truck charge. No hidden fees, cancel anytime."
    />
  </div>

  <div class="mt-16 grid gap-8 lg:grid-cols-3">
    @for (tier of tiers; track tier.name; let i = $index) {
      <div
        webScrollAnimate="fade-up"
        [delay]="i * 150"
        class="relative rounded-2xl border-2 bg-white p-8 transition-shadow sm:p-10"
        [class.border-accent]="tier.highlighted"
        [class.shadow-xl]="tier.highlighted"
        [class.ring-1]="tier.highlighted"
        [class.ring-accent/20]="tier.highlighted"
        [class.border-gray-200]="!tier.highlighted"
      >
        <!-- Badge -->
        @if (tier.badge) {
          <div
            class="bg-accent text-paper absolute -top-3.5 left-1/2 -translate-x-1/2 rounded-full px-4 py-1 text-sm font-semibold whitespace-nowrap"
          >
            {{ tier.badge }}
          </div>
        }

        <!-- Plan name -->
        <h3 class="font-display text-ink text-xl font-bold">{{ tier.name }}</h3>
        <p class="text-steel mt-2 text-sm">{{ tier.description }}</p>

        <!-- Price -->
        <div class="mt-6">
          <div class="flex items-baseline gap-1">
            <span class="font-display text-ink text-4xl font-extrabold">${{ tier.basePrice }}</span>
            <span class="text-steel text-sm">/mo base</span>
          </div>
          <p class="text-steel mt-1 text-sm">+ ${{ tier.perTruckPrice }}/truck/mo</p>
        </div>

        <!-- CTA -->
        <div class="mt-6">
          <p-button
            label="Request a Demo"
            (onClick)="openDemoDialog()"
            [rounded]="true"
            class="w-full"
            styleClass="w-full justify-center"
            [outlined]="!tier.highlighted"
            [styleClass]="
              tier.highlighted
                ? 'w-full justify-center bg-accent border-accent hover:bg-accent-dark hover:border-accent-dark'
                : 'w-full justify-center'
            "
          />
        </div>

        <!-- Features -->
        <ul class="mt-8 space-y-3">
          @for (feature of tier.features; track feature) {
            <li class="flex items-center gap-3">
              <i class="pi pi-check text-accent text-sm"></i>
              <span class="text-ink text-sm">{{ feature }}</span>
            </li>
          }
        </ul>
      </div>
    }
  </div>
</web-section-container>
