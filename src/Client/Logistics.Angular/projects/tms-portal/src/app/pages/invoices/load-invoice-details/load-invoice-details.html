<h1 class="text-center">Load Invoice Details</h1>

<p-card class="col-span-12 sm:col-span-6">
  @if (isLoading()) {
    <div class="flex justify-center py-8">
      <p-progress-spinner />
    </div>
  } @else if (invoice()) {
    <h2>{{ companyName() }}</h2>
    <p>{{ companyAddress() | address }}</p>
    <p-divider />

    <p><strong>Load Number:</strong> {{ invoice()!.loadNumber }}</p>
    <p><strong>Date:</strong> {{ invoice()!.createdDate | date: "mediumDate" }}</p>
    <p><strong>Customer:</strong> {{ invoice()!.customer?.name ?? "N/A" }}</p>
    <p><strong>Amount:</strong> {{ invoice()!.total?.amount | currency }}</p>
    <p>
      <strong>Status:</strong>
      @if (invoice()!.status) {
        <app-invoice-status-tag [status]="invoice()!.status!" />
      }
    </p>

    <p-button icon="pi pi-file-pdf" label="Export to PDF" (click)="exportToPdf()" />
  } @else {
    <div class="py-8 text-center text-gray-500">
      <i class="pi pi-exclamation-circle mb-4 text-4xl"></i>
      <p>Invoice not found</p>
    </div>
  }
</p-card>
