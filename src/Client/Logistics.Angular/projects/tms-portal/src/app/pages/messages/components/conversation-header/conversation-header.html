<div
  class="from-primary/5 flex items-center gap-4 border-b bg-linear-to-r to-transparent px-4 py-3"
>
  <p-button
    icon="pi pi-arrow-left"
    [text]="true"
    [rounded]="true"
    severity="secondary"
    routerLink="/messages"
  />

  @if (isNewConversation()) {
    <i class="pi pi-plus-circle text-primary text-2xl"></i>
    <div class="flex-1">
      <h2 class="font-semibold text-gray-800">New Conversation</h2>
      <p class="text-xs text-gray-400">Select a recipient to start messaging</p>
    </div>
  } @else {
    <p-avatar
      [label]="getInitials(getConversationTitle(conversation()))"
      class="bg-primary text-white"
      shape="circle"
    />
    <div class="flex-1 cursor-pointer" (click)="toggleDetails.emit()">
      <h2 class="font-semibold text-gray-800">
        {{ getConversationTitle(conversation()) }}
      </h2>
      @if (isTyping()) {
        <p class="text-primary animate-pulse text-sm">typing...</p>
      } @else {
        <p class="text-xs text-gray-400">Click to view details</p>
      }
    </div>
    <p-button
      icon="pi pi-info-circle"
      [text]="true"
      [rounded]="true"
      severity="secondary"
      (onClick)="toggleDetails.emit()"
      pTooltip="View details"
    />
  }
</div>
