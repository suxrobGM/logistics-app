<div class="flex flex-col gap-6">
  @if (isLoading()) {
    <p-progress-spinner />
  }

  <form [formGroup]="form" (ngSubmit)="submit()">
    <app-validation-summary [form]="form" />

    <app-form-field label="Customer Name" for="name" [required]="true">
      <input pInputText id="name" formControlName="name" />
    </app-form-field>

    <div class="flex gap-2">
      <p-button type="submit" icon="pi pi-pencil" label="Save" [disabled]="isLoading()" />

      @if (mode() === "edit") {
        <p-button
          type="button"
          icon="pi pi-trash"
          label="Delete"
          severity="danger"
          [disabled]="isLoading()"
          (click)="askRemove()"
        />

        <p-button
          type="button"
          icon="pi pi-arrow-left"
          label="Back to list"
          [routerLink]="['/customers']"
        />
      }
    </div>
  </form>
</div>
