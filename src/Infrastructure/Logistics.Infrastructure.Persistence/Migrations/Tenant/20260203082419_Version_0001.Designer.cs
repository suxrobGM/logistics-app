// <auto-generated />
using System;
using System.Collections.Generic;
using Logistics.Infrastructure.Persistence.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace Logistics.Infrastructure.Persistence.Migrations.Tenant
{
    [DbContext(typeof(TenantDbContext))]
    [Migration("20260203082419_Version_0001")]
    partial class Version_0001
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "10.0.2")
                .HasAnnotation("Proxies:ChangeTracking", false)
                .HasAnnotation("Proxies:CheckEquality", false)
                .HasAnnotation("Proxies:LazyLoading", true)
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("Logistics.Domain.Entities.Customer", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<string>("Email")
                        .HasColumnType("text")
                        .HasColumnName("email");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<string>("Notes")
                        .HasColumnType("text")
                        .HasColumnName("notes");

                    b.Property<string>("Phone")
                        .HasColumnType("text")
                        .HasColumnName("phone");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Address", "Logistics.Domain.Entities.Customer.Address#Address", b1 =>
                        {
                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_zip_code");
                        });

                    b.HasKey("Id")
                        .HasName("pk_customers");

                    b.ToTable("customers", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.CustomerUser", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<Guid>("CustomerId")
                        .HasColumnType("uuid")
                        .HasColumnName("customer_id");

                    b.Property<string>("DisplayName")
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("display_name");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("character varying(256)")
                        .HasColumnName("email");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastLoginAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_login_at");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uuid")
                        .HasColumnName("user_id");

                    b.HasKey("Id")
                        .HasName("pk_customer_users");

                    b.HasIndex("Email")
                        .HasDatabaseName("ix_customer_users_email");

                    b.HasIndex("UserId")
                        .HasDatabaseName("ix_customer_users_user_id");

                    b.HasIndex("CustomerId", "UserId")
                        .IsUnique()
                        .HasDatabaseName("ix_customer_users_customer_id_user_id");

                    b.ToTable("customer_users", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Document", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("BlobContainer")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("blob_container");

                    b.Property<string>("BlobPath")
                        .IsRequired()
                        .HasMaxLength(512)
                        .HasColumnType("character varying(512)")
                        .HasColumnName("blob_path");

                    b.Property<string>("ContentType")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("content_type");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<string>("FileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("file_name");

                    b.Property<long>("FileSizeBytes")
                        .HasColumnType("bigint")
                        .HasColumnName("file_size_bytes");

                    b.Property<string>("OriginalFileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("original_file_name");

                    b.Property<string>("OwnerType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("owner_type");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("text")
                        .HasDefaultValue("active")
                        .HasColumnName("status");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.Property<Guid>("UploadedById")
                        .HasColumnType("uuid")
                        .HasColumnName("uploaded_by_id");

                    b.HasKey("Id")
                        .HasName("pk_documents");

                    b.HasIndex("UploadedById")
                        .HasDatabaseName("ix_documents_uploaded_by_id");

                    b.ToTable("documents", (string)null);

                    b.HasDiscriminator<string>("OwnerType");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("Logistics.Domain.Entities.DriverHosStatus", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("CurrentDutyStatus")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("current_duty_status");

                    b.Property<int>("CycleMinutesRemaining")
                        .HasColumnType("integer")
                        .HasColumnName("cycle_minutes_remaining");

                    b.Property<int>("DrivingMinutesRemaining")
                        .HasColumnType("integer")
                        .HasColumnName("driving_minutes_remaining");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<string>("ExternalDriverId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_driver_id");

                    b.Property<bool>("IsInViolation")
                        .HasColumnType("boolean")
                        .HasColumnName("is_in_violation");

                    b.Property<DateTime>("LastUpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_updated_at");

                    b.Property<DateTime?>("NextMandatoryBreakAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("next_mandatory_break_at");

                    b.Property<int>("OnDutyMinutesRemaining")
                        .HasColumnType("integer")
                        .HasColumnName("on_duty_minutes_remaining");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<DateTime>("StatusChangedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("status_changed_at");

                    b.Property<TimeSpan?>("TimeUntilBreakRequired")
                        .HasColumnType("interval")
                        .HasColumnName("time_until_break_required");

                    b.HasKey("Id")
                        .HasName("pk_driver_hos_statuses");

                    b.HasIndex("EmployeeId")
                        .IsUnique()
                        .HasDatabaseName("ix_driver_hos_statuses_employee_id");

                    b.ToTable("driver_hos_statuses", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.EldDriverMapping", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<string>("ExternalDriverId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_driver_id");

                    b.Property<string>("ExternalDriverName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("external_driver_name");

                    b.Property<bool>("IsSyncEnabled")
                        .HasColumnType("boolean")
                        .HasColumnName("is_sync_enabled");

                    b.Property<DateTime?>("LastSyncedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_synced_at");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.HasKey("Id")
                        .HasName("pk_eld_driver_mappings");

                    b.HasIndex("EmployeeId")
                        .HasDatabaseName("ix_eld_driver_mappings_employee_id");

                    b.HasIndex("ProviderType", "EmployeeId")
                        .IsUnique()
                        .HasDatabaseName("ix_eld_driver_mappings_provider_type_employee_id");

                    b.HasIndex("ProviderType", "ExternalDriverId")
                        .IsUnique()
                        .HasDatabaseName("ix_eld_driver_mappings_provider_type_external_driver_id");

                    b.ToTable("eld_driver_mappings", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.EldProviderConfiguration", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("AccessToken")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("access_token");

                    b.Property<string>("ApiKey")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("api_key");

                    b.Property<string>("ApiSecret")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("api_secret");

                    b.Property<string>("ExternalAccountId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_account_id");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastSyncedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_synced_at");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<string>("RefreshToken")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("refresh_token");

                    b.Property<DateTime?>("TokenExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("token_expires_at");

                    b.Property<string>("WebhookSecret")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("webhook_secret");

                    b.HasKey("Id")
                        .HasName("pk_eld_provider_configurations");

                    b.HasIndex("ProviderType")
                        .IsUnique()
                        .HasDatabaseName("ix_eld_provider_configurations_provider_type");

                    b.ToTable("eld_provider_configurations", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.EldVehicleMapping", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("ExternalVehicleId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_vehicle_id");

                    b.Property<string>("ExternalVehicleName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("external_vehicle_name");

                    b.Property<bool>("IsSyncEnabled")
                        .HasColumnType("boolean")
                        .HasColumnName("is_sync_enabled");

                    b.Property<DateTime?>("LastSyncedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_synced_at");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.HasKey("Id")
                        .HasName("pk_eld_vehicle_mappings");

                    b.HasIndex("TruckId")
                        .HasDatabaseName("ix_eld_vehicle_mappings_truck_id");

                    b.HasIndex("ProviderType", "ExternalVehicleId")
                        .IsUnique()
                        .HasDatabaseName("ix_eld_vehicle_mappings_provider_type_external_vehicle_id");

                    b.HasIndex("ProviderType", "TruckId")
                        .IsUnique()
                        .HasDatabaseName("ix_eld_vehicle_mappings_provider_type_truck_id");

                    b.ToTable("eld_vehicle_mappings", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Employee", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("DeviceToken")
                        .HasColumnType("text")
                        .HasColumnName("device_token");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("email");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("first_name");

                    b.Property<DateTime>("JoinedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("joined_date");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("last_name");

                    b.Property<string>("PhoneNumber")
                        .HasColumnType("text")
                        .HasColumnName("phone_number");

                    b.Property<Guid?>("RoleId")
                        .HasColumnType("uuid")
                        .HasColumnName("role_id");

                    b.Property<string>("SalaryType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("salary_type");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Salary", "Logistics.Domain.Entities.Employee.Salary#Money", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("numeric(18,2)")
                                .HasColumnName("salary_amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("character varying(3)")
                                .HasColumnName("salary_currency");
                        });

                    b.HasKey("Id")
                        .HasName("pk_employees");

                    b.HasIndex("RoleId")
                        .HasDatabaseName("ix_employees_role_id");

                    b.ToTable("employees", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Expense", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime?>("ApprovedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("approved_at");

                    b.Property<string>("ApprovedById")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("approved_by_id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<DateTime>("ExpenseDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expense_date");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("notes");

                    b.Property<long>("Number")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("number");

                    NpgsqlPropertyBuilderExtensions.UseIdentityAlwaysColumn(b.Property<long>("Number"));

                    b.Property<string>("ReceiptBlobPath")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("receipt_blob_path");

                    b.Property<string>("RejectionReason")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("rejection_reason");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.Property<string>("VendorName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("vendor_name");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Amount", "Logistics.Domain.Entities.Expense.Amount#Money", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("numeric(18,2)")
                                .HasColumnName("amount_amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("character varying(3)")
                                .HasColumnName("amount_currency");
                        });

                    b.HasKey("Id")
                        .HasName("pk_expenses");

                    b.HasIndex("ExpenseDate")
                        .HasDatabaseName("ix_expenses_expense_date");

                    b.HasIndex("Number")
                        .IsUnique()
                        .HasDatabaseName("ix_expenses_number");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_expenses_status");

                    b.HasIndex("Type")
                        .HasDatabaseName("ix_expenses_type");

                    b.ToTable("expenses", (string)null);

                    b.HasDiscriminator<string>("Type");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("Logistics.Domain.Entities.HosLog", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<int>("DurationMinutes")
                        .HasColumnType("integer")
                        .HasColumnName("duration_minutes");

                    b.Property<string>("DutyStatus")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("duty_status");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<DateTime?>("EndTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("end_time");

                    b.Property<string>("ExternalLogId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_log_id");

                    b.Property<double?>("Latitude")
                        .HasColumnType("double precision")
                        .HasColumnName("latitude");

                    b.Property<string>("Location")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("location");

                    b.Property<DateTime>("LogDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("log_date");

                    b.Property<double?>("Longitude")
                        .HasColumnType("double precision")
                        .HasColumnName("longitude");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<string>("Remark")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("remark");

                    b.Property<DateTime>("StartTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("start_time");

                    b.HasKey("Id")
                        .HasName("pk_hos_logs");

                    b.HasIndex("ExternalLogId")
                        .HasDatabaseName("ix_hos_logs_external_log_id");

                    b.HasIndex("EmployeeId", "LogDate")
                        .HasDatabaseName("ix_hos_logs_employee_id_log_date");

                    b.ToTable("hos_logs", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.HosViolation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<string>("ExternalViolationId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_violation_id");

                    b.Property<bool>("IsResolved")
                        .HasColumnType("boolean")
                        .HasColumnName("is_resolved");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<DateTime?>("ResolvedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("resolved_at");

                    b.Property<int>("SeverityLevel")
                        .HasColumnType("integer")
                        .HasColumnName("severity_level");

                    b.Property<DateTime>("ViolationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("violation_date");

                    b.Property<string>("ViolationType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("violation_type");

                    b.HasKey("Id")
                        .HasName("pk_hos_violations");

                    b.HasIndex("ExternalViolationId")
                        .HasDatabaseName("ix_hos_violations_external_violation_id");

                    b.HasIndex("EmployeeId", "ViolationDate")
                        .HasDatabaseName("ix_hos_violations_employee_id_violation_date");

                    b.ToTable("hos_violations", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Invoice", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<DateTime?>("DueDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("due_date");

                    b.Property<string>("Notes")
                        .HasColumnType("text")
                        .HasColumnName("notes");

                    b.Property<long>("Number")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("number");

                    NpgsqlPropertyBuilderExtensions.UseIdentityAlwaysColumn(b.Property<long>("Number"));

                    b.Property<DateTime?>("SentAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sent_at");

                    b.Property<string>("SentToEmail")
                        .HasColumnType("text")
                        .HasColumnName("sent_to_email");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<string>("StripeInvoiceId")
                        .HasColumnType("text")
                        .HasColumnName("stripe_invoice_id");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Total", "Logistics.Domain.Entities.Invoice.Total#Money", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("numeric(18,2)")
                                .HasColumnName("total_amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("character varying(3)")
                                .HasColumnName("total_currency");
                        });

                    b.HasKey("Id")
                        .HasName("pk_invoices");

                    b.HasIndex("Number")
                        .IsUnique()
                        .HasDatabaseName("ix_invoices_number");

                    b.ToTable("invoices", (string)null);

                    b.HasDiscriminator<string>("Type");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("Logistics.Domain.Entities.InvoiceLineItem", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<Guid>("InvoiceId")
                        .HasColumnType("uuid")
                        .HasColumnName("invoice_id");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("notes");

                    b.Property<int>("Order")
                        .HasColumnType("integer")
                        .HasColumnName("order");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer")
                        .HasColumnName("quantity");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Amount", "Logistics.Domain.Entities.InvoiceLineItem.Amount#Money", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("numeric(18,2)")
                                .HasColumnName("amount_amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("character varying(3)")
                                .HasColumnName("amount_currency");
                        });

                    b.HasKey("Id")
                        .HasName("pk_invoice_line_items");

                    b.HasIndex("InvoiceId")
                        .HasDatabaseName("ix_invoice_line_items_invoice_id");

                    b.ToTable("invoice_line_items", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Load", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid?>("AssignedDispatcherId")
                        .HasColumnType("uuid")
                        .HasColumnName("assigned_dispatcher_id");

                    b.Property<Guid?>("AssignedTruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("assigned_truck_id");

                    b.Property<bool>("CanConfirmDelivery")
                        .HasColumnType("boolean")
                        .HasColumnName("can_confirm_delivery");

                    b.Property<bool>("CanConfirmPickUp")
                        .HasColumnType("boolean")
                        .HasColumnName("can_confirm_pick_up");

                    b.Property<DateTime?>("CancelledAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("cancelled_at");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<Guid>("CustomerId")
                        .HasColumnType("uuid")
                        .HasColumnName("customer_id");

                    b.Property<DateTime?>("DeliveredAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("delivered_at");

                    b.Property<DateTime?>("DispatchedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dispatched_at");

                    b.Property<double>("Distance")
                        .HasColumnType("double precision")
                        .HasColumnName("distance");

                    b.Property<string>("ExternalBrokerReference")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_broker_reference");

                    b.Property<string>("ExternalSourceId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_source_id");

                    b.Property<string>("ExternalSourceProvider")
                        .HasColumnType("text")
                        .HasColumnName("external_source_provider");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<long>("Number")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("number");

                    NpgsqlPropertyBuilderExtensions.UseIdentityAlwaysColumn(b.Property<long>("Number"));

                    b.Property<DateTime?>("PickedUpAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("picked_up_at");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "DeliveryCost", "Logistics.Domain.Entities.Load.DeliveryCost#Money", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("numeric(18,2)")
                                .HasColumnName("delivery_cost_amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("character varying(3)")
                                .HasColumnName("delivery_cost_currency");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "DestinationAddress", "Logistics.Domain.Entities.Load.DestinationAddress#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("destination_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_zip_code");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "DestinationLocation", "Logistics.Domain.Entities.Load.DestinationLocation#GeoPoint", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<double>("Latitude")
                                .HasColumnType("double precision")
                                .HasColumnName("destination_location_latitude");

                            b1.Property<double>("Longitude")
                                .HasColumnType("double precision")
                                .HasColumnName("destination_location_longitude");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "OriginAddress", "Logistics.Domain.Entities.Load.OriginAddress#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("origin_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_zip_code");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "OriginLocation", "Logistics.Domain.Entities.Load.OriginLocation#GeoPoint", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<double>("Latitude")
                                .HasColumnType("double precision")
                                .HasColumnName("origin_location_latitude");

                            b1.Property<double>("Longitude")
                                .HasColumnType("double precision")
                                .HasColumnName("origin_location_longitude");
                        });

                    b.HasKey("Id")
                        .HasName("pk_loads");

                    b.HasIndex("AssignedDispatcherId")
                        .HasDatabaseName("ix_loads_assigned_dispatcher_id");

                    b.HasIndex("AssignedTruckId")
                        .HasDatabaseName("ix_loads_assigned_truck_id");

                    b.HasIndex("CustomerId")
                        .HasDatabaseName("ix_loads_customer_id");

                    b.HasIndex("Number")
                        .IsUnique()
                        .HasDatabaseName("ix_loads_number");

                    b.ToTable("loads", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadBoardConfiguration", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("AccessToken")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("access_token");

                    b.Property<string>("ApiKey")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("api_key");

                    b.Property<string>("ApiSecret")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("api_secret");

                    b.Property<string>("CompanyDotNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("company_dot_number");

                    b.Property<string>("CompanyMcNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("company_mc_number");

                    b.Property<string>("ExternalAccountId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_account_id");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastSyncedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_synced_at");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<string>("RefreshToken")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("refresh_token");

                    b.Property<DateTime?>("TokenExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("token_expires_at");

                    b.Property<string>("WebhookSecret")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("webhook_secret");

                    b.HasKey("Id")
                        .HasName("pk_load_board_configurations");

                    b.HasIndex("ProviderType")
                        .IsUnique()
                        .HasDatabaseName("ix_load_board_configurations_provider_type");

                    b.ToTable("load_board_configurations", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadBoardListing", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime?>("BookedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("booked_at");

                    b.Property<string>("BrokerEmail")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("broker_email");

                    b.Property<string>("BrokerMcNumber")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("broker_mc_number");

                    b.Property<string>("BrokerName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("broker_name");

                    b.Property<string>("BrokerPhone")
                        .HasMaxLength(30)
                        .HasColumnType("character varying(30)")
                        .HasColumnName("broker_phone");

                    b.Property<string>("Commodity")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("commodity");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<DateTime?>("DeliveryDateEnd")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("delivery_date_end");

                    b.Property<DateTime?>("DeliveryDateStart")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("delivery_date_start");

                    b.Property<double?>("Distance")
                        .HasColumnType("double precision")
                        .HasColumnName("distance");

                    b.Property<string>("EquipmentType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("equipment_type");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<string>("ExternalListingId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_listing_id");

                    b.Property<int?>("Length")
                        .HasColumnType("integer")
                        .HasColumnName("length");

                    b.Property<Guid?>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("notes");

                    b.Property<DateTime?>("PickupDateEnd")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("pickup_date_end");

                    b.Property<DateTime?>("PickupDateStart")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("pickup_date_start");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<decimal?>("RatePerMile")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("rate_per_mile");

                    b.Property<string>("RawJson")
                        .HasColumnType("text")
                        .HasColumnName("raw_json");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.Property<int?>("Weight")
                        .HasColumnType("integer")
                        .HasColumnName("weight");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "DestinationAddress", "Logistics.Domain.Entities.LoadBoardListing.DestinationAddress#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("destination_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_address_zip_code");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "DestinationLocation", "Logistics.Domain.Entities.LoadBoardListing.DestinationLocation#GeoPoint", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<double>("Latitude")
                                .HasColumnType("double precision")
                                .HasColumnName("destination_location_latitude");

                            b1.Property<double>("Longitude")
                                .HasColumnType("double precision")
                                .HasColumnName("destination_location_longitude");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "OriginAddress", "Logistics.Domain.Entities.LoadBoardListing.OriginAddress#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("origin_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("origin_address_zip_code");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "OriginLocation", "Logistics.Domain.Entities.LoadBoardListing.OriginLocation#GeoPoint", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<double>("Latitude")
                                .HasColumnType("double precision")
                                .HasColumnName("origin_location_latitude");

                            b1.Property<double>("Longitude")
                                .HasColumnType("double precision")
                                .HasColumnName("origin_location_longitude");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "TotalRate", "Logistics.Domain.Entities.LoadBoardListing.TotalRate#Money", b1 =>
                        {
                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("numeric(18,2)")
                                .HasColumnName("total_rate_amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("character varying(3)")
                                .HasColumnName("total_rate_currency");
                        });

                    b.HasKey("Id")
                        .HasName("pk_load_board_listings");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("ix_load_board_listings_expires_at");

                    b.HasIndex("LoadId")
                        .HasDatabaseName("ix_load_board_listings_load_id");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_load_board_listings_status");

                    b.HasIndex("ExternalListingId", "ProviderType")
                        .IsUnique()
                        .HasDatabaseName("ix_load_board_listings_external_listing_id_provider_type");

                    b.ToTable("load_board_listings", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadException", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<Guid>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.Property<DateTime>("OccurredAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("occurred_at");

                    b.Property<string>("Reason")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("reason");

                    b.Property<Guid>("ReportedById")
                        .HasColumnType("uuid")
                        .HasColumnName("reported_by_id");

                    b.Property<string>("ReportedByName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("reported_by_name");

                    b.Property<string>("Resolution")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("resolution");

                    b.Property<DateTime?>("ResolvedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("resolved_at");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.HasKey("Id")
                        .HasName("pk_load_exceptions");

                    b.HasIndex("LoadId")
                        .HasDatabaseName("ix_load_exceptions_load_id");

                    b.HasIndex("ResolvedAt")
                        .HasDatabaseName("ix_load_exceptions_resolved_at");

                    b.ToTable("load_exceptions", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Maintenance.MaintenancePart", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("MaintenanceRecordId")
                        .HasColumnType("uuid")
                        .HasColumnName("maintenance_record_id");

                    b.Property<string>("PartName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("part_name");

                    b.Property<string>("PartNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("part_number");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer")
                        .HasColumnName("quantity");

                    b.Property<decimal>("TotalCost")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("total_cost");

                    b.Property<decimal>("UnitCost")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("unit_cost");

                    b.HasKey("Id")
                        .HasName("pk_maintenance_parts");

                    b.HasIndex("MaintenanceRecordId")
                        .HasDatabaseName("ix_maintenance_parts_maintenance_record_id");

                    b.ToTable("maintenance_parts", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Maintenance.MaintenanceRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<int?>("EngineHours")
                        .HasColumnType("integer")
                        .HasColumnName("engine_hours");

                    b.Property<string>("InvoiceNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("invoice_number");

                    b.Property<decimal>("LaborCost")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("labor_cost");

                    b.Property<Guid?>("MaintenanceScheduleId")
                        .HasColumnType("uuid")
                        .HasColumnName("maintenance_schedule_id");

                    b.Property<string>("MaintenanceType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("maintenance_type");

                    b.Property<int>("OdometerReading")
                        .HasColumnType("integer")
                        .HasColumnName("odometer_reading");

                    b.Property<decimal>("PartsCost")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("parts_cost");

                    b.Property<Guid?>("PerformedById")
                        .HasColumnType("uuid")
                        .HasColumnName("performed_by_id");

                    b.Property<DateTime>("ServiceDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("service_date");

                    b.Property<decimal>("TotalCost")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("total_cost");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.Property<string>("VendorAddress")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("vendor_address");

                    b.Property<string>("VendorName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("vendor_name");

                    b.Property<string>("WorkPerformed")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("work_performed");

                    b.HasKey("Id")
                        .HasName("pk_maintenance_records");

                    b.HasIndex("MaintenanceScheduleId")
                        .HasDatabaseName("ix_maintenance_records_maintenance_schedule_id");

                    b.HasIndex("MaintenanceType")
                        .HasDatabaseName("ix_maintenance_records_maintenance_type");

                    b.HasIndex("PerformedById")
                        .HasDatabaseName("ix_maintenance_records_performed_by_id");

                    b.HasIndex("TruckId", "ServiceDate")
                        .HasDatabaseName("ix_maintenance_records_truck_id_service_date");

                    b.ToTable("maintenance_records", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Maintenance.MaintenanceSchedule", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<int?>("DaysInterval")
                        .HasColumnType("integer")
                        .HasColumnName("days_interval");

                    b.Property<int?>("EngineHoursInterval")
                        .HasColumnType("integer")
                        .HasColumnName("engine_hours_interval");

                    b.Property<string>("IntervalType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("interval_type");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastServiceDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_service_date");

                    b.Property<int?>("LastServiceEngineHours")
                        .HasColumnType("integer")
                        .HasColumnName("last_service_engine_hours");

                    b.Property<int?>("LastServiceMileage")
                        .HasColumnType("integer")
                        .HasColumnName("last_service_mileage");

                    b.Property<string>("MaintenanceType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("maintenance_type");

                    b.Property<int?>("MileageInterval")
                        .HasColumnType("integer")
                        .HasColumnName("mileage_interval");

                    b.Property<DateTime?>("NextDueDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("next_due_date");

                    b.Property<int?>("NextDueEngineHours")
                        .HasColumnType("integer")
                        .HasColumnName("next_due_engine_hours");

                    b.Property<int?>("NextDueMileage")
                        .HasColumnType("integer")
                        .HasColumnName("next_due_mileage");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("notes");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.HasKey("Id")
                        .HasName("pk_maintenance_schedules");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_maintenance_schedules_is_active");

                    b.HasIndex("NextDueDate")
                        .HasDatabaseName("ix_maintenance_schedules_next_due_date");

                    b.HasIndex("TruckId", "MaintenanceType")
                        .HasDatabaseName("ix_maintenance_schedules_truck_id_maintenance_type");

                    b.ToTable("maintenance_schedules", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.Conversation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<bool>("IsTenantChat")
                        .HasColumnType("boolean")
                        .HasColumnName("is_tenant_chat");

                    b.Property<DateTime?>("LastMessageAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_message_at");

                    b.Property<Guid?>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.Property<string>("Name")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.HasKey("Id")
                        .HasName("pk_conversations");

                    b.HasIndex("LastMessageAt")
                        .HasDatabaseName("ix_conversations_last_message_at");

                    b.HasIndex("LoadId")
                        .HasDatabaseName("ix_conversations_load_id");

                    b.ToTable("conversations", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.ConversationParticipant", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("ConversationId")
                        .HasColumnType("uuid")
                        .HasColumnName("conversation_id");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<bool>("IsMuted")
                        .HasColumnType("boolean")
                        .HasColumnName("is_muted");

                    b.Property<DateTime>("JoinedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("joined_at");

                    b.Property<DateTime?>("LastReadAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_read_at");

                    b.HasKey("Id")
                        .HasName("pk_conversation_participants");

                    b.HasIndex("EmployeeId")
                        .HasDatabaseName("ix_conversation_participants_employee_id");

                    b.HasIndex("ConversationId", "EmployeeId")
                        .IsUnique()
                        .HasDatabaseName("ix_conversation_participants_conversation_id_employee_id");

                    b.ToTable("conversation_participants", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.Message", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("content");

                    b.Property<Guid>("ConversationId")
                        .HasColumnType("uuid")
                        .HasColumnName("conversation_id");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("deleted_at");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("boolean")
                        .HasColumnName("is_deleted");

                    b.Property<Guid>("SenderId")
                        .HasColumnType("uuid")
                        .HasColumnName("sender_id");

                    b.Property<DateTime>("SentAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sent_at");

                    b.HasKey("Id")
                        .HasName("pk_messages");

                    b.HasIndex("ConversationId")
                        .HasDatabaseName("ix_messages_conversation_id");

                    b.HasIndex("SenderId")
                        .HasDatabaseName("ix_messages_sender_id");

                    b.HasIndex("SentAt")
                        .HasDatabaseName("ix_messages_sent_at");

                    b.ToTable("messages", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.MessageReadReceipt", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("MessageId")
                        .HasColumnType("uuid")
                        .HasColumnName("message_id");

                    b.Property<DateTime>("ReadAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("read_at");

                    b.Property<Guid>("ReadById")
                        .HasColumnType("uuid")
                        .HasColumnName("read_by_id");

                    b.HasKey("Id")
                        .HasName("pk_message_read_receipts");

                    b.HasIndex("ReadById")
                        .HasDatabaseName("ix_message_read_receipts_read_by_id");

                    b.HasIndex("MessageId", "ReadById")
                        .IsUnique()
                        .HasDatabaseName("ix_message_read_receipts_message_id_read_by_id");

                    b.ToTable("message_read_receipts", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Notification", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date");

                    b.Property<bool>("IsRead")
                        .HasColumnType("boolean")
                        .HasColumnName("is_read");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("message");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("title");

                    b.HasKey("Id")
                        .HasName("pk_notifications");

                    b.ToTable("notifications", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Payment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<Guid?>("InvoiceId")
                        .HasColumnType("uuid")
                        .HasColumnName("invoice_id");

                    b.Property<Guid>("MethodId")
                        .HasColumnType("uuid")
                        .HasColumnName("method_id");

                    b.Property<DateTime?>("RecordedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("recorded_at");

                    b.Property<Guid?>("RecordedByUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("recorded_by_user_id");

                    b.Property<string>("ReferenceNumber")
                        .HasColumnType("text")
                        .HasColumnName("reference_number");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<string>("StripePaymentIntentId")
                        .HasColumnType("text")
                        .HasColumnName("stripe_payment_intent_id");

                    b.Property<Guid>("TenantId")
                        .HasColumnType("uuid")
                        .HasColumnName("tenant_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Amount", "Logistics.Domain.Entities.Payment.Amount#Money", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<decimal>("Amount")
                                .HasPrecision(18, 2)
                                .HasColumnType("numeric(18,2)")
                                .HasColumnName("amount_amount");

                            b1.Property<string>("Currency")
                                .IsRequired()
                                .HasMaxLength(3)
                                .HasColumnType("character varying(3)")
                                .HasColumnName("amount_currency");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "BillingAddress", "Logistics.Domain.Entities.Payment.BillingAddress#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("billing_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_zip_code");
                        });

                    b.HasKey("Id")
                        .HasName("pk_payments");

                    b.HasIndex("InvoiceId")
                        .HasDatabaseName("ix_payments_invoice_id");

                    b.ToTable("payments", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PaymentLink", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<int>("AccessCount")
                        .HasColumnType("integer")
                        .HasColumnName("access_count");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<Guid>("CreatedByUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("created_by_user_id");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<Guid>("InvoiceId")
                        .HasColumnType("uuid")
                        .HasColumnName("invoice_id");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastAccessedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_accessed_at");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("token");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.HasKey("Id")
                        .HasName("pk_payment_links");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("ix_payment_links_expires_at");

                    b.HasIndex("InvoiceId")
                        .HasDatabaseName("ix_payment_links_invoice_id");

                    b.HasIndex("Token")
                        .IsUnique()
                        .HasDatabaseName("ix_payment_links_token");

                    b.ToTable("payment_links", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PaymentMethod", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_date");

                    b.Property<bool>("IsDefault")
                        .HasColumnType("boolean")
                        .HasColumnName("is_default");

                    b.Property<string>("StripePaymentMethodId")
                        .HasColumnType("text")
                        .HasColumnName("stripe_payment_method_id");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<string>("VerificationStatus")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("verification_status");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "BillingAddress", "Logistics.Domain.Entities.PaymentMethod.BillingAddress#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("billing_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("billing_address_zip_code");
                        });

                    b.HasKey("Id")
                        .HasName("pk_payment_methods");

                    b.HasIndex("StripePaymentMethodId")
                        .IsUnique()
                        .HasDatabaseName("ix_payment_methods_stripe_payment_method_id");

                    b.ToTable("payment_methods", (string)null);

                    b.HasDiscriminator<string>("Type");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PostedTruck", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("AvailableFrom")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("available_from");

                    b.Property<DateTime?>("AvailableTo")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("available_to");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<int?>("DestinationRadius")
                        .HasColumnType("integer")
                        .HasColumnName("destination_radius");

                    b.Property<string>("EquipmentType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("equipment_type");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<string>("ExternalPostId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_post_id");

                    b.Property<DateTime?>("LastRefreshedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_refreshed_at");

                    b.Property<int?>("MaxLength")
                        .HasColumnType("integer")
                        .HasColumnName("max_length");

                    b.Property<int?>("MaxWeight")
                        .HasColumnType("integer")
                        .HasColumnName("max_weight");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "AvailableAtAddress", "Logistics.Domain.Entities.PostedTruck.AvailableAtAddress#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("available_at_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("available_at_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("available_at_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("available_at_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("available_at_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("available_at_address_zip_code");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "AvailableAtLocation", "Logistics.Domain.Entities.PostedTruck.AvailableAtLocation#GeoPoint", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<double>("Latitude")
                                .HasColumnType("double precision")
                                .HasColumnName("available_at_location_latitude");

                            b1.Property<double>("Longitude")
                                .HasColumnType("double precision")
                                .HasColumnName("available_at_location_longitude");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "DestinationPreference", "Logistics.Domain.Entities.PostedTruck.DestinationPreference#Address", b1 =>
                        {
                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_preference_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_preference_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_preference_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("destination_preference_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_preference_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("destination_preference_zip_code");
                        });

                    b.HasKey("Id")
                        .HasName("pk_posted_trucks");

                    b.HasIndex("ExternalPostId")
                        .HasDatabaseName("ix_posted_trucks_external_post_id");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_posted_trucks_status");

                    b.HasIndex("TruckId", "ProviderType")
                        .IsUnique()
                        .HasDatabaseName("ix_posted_trucks_truck_id_provider_type");

                    b.ToTable("posted_trucks", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.AccidentReport", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("AccidentDateTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("accident_date_time");

                    b.Property<string>("AccidentType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("accident_type");

                    b.Property<string>("Address")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("address");

                    b.Property<bool>("AnyInjuries")
                        .HasColumnType("boolean")
                        .HasColumnName("any_injuries");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<string>("Description")
                        .HasMaxLength(4000)
                        .HasColumnType("character varying(4000)")
                        .HasColumnName("description");

                    b.Property<Guid>("DriverId")
                        .HasColumnType("uuid")
                        .HasColumnName("driver_id");

                    b.Property<string>("DriverSignature")
                        .HasColumnType("text")
                        .HasColumnName("driver_signature");

                    b.Property<DateTime?>("DriverSignedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("driver_signed_at");

                    b.Property<string>("DriverStatement")
                        .HasMaxLength(4000)
                        .HasColumnType("character varying(4000)")
                        .HasColumnName("driver_statement");

                    b.Property<decimal?>("EstimatedDamageCost")
                        .HasPrecision(18, 2)
                        .HasColumnType("numeric(18,2)")
                        .HasColumnName("estimated_damage_cost");

                    b.Property<string>("InjuryDescription")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("injury_description");

                    b.Property<string>("InsuranceClaimNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("insurance_claim_number");

                    b.Property<bool>("InsuranceNotified")
                        .HasColumnType("boolean")
                        .HasColumnName("insurance_notified");

                    b.Property<DateTime?>("InsuranceNotifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("insurance_notified_at");

                    b.Property<double>("Latitude")
                        .HasColumnType("double precision")
                        .HasColumnName("latitude");

                    b.Property<double>("Longitude")
                        .HasColumnType("double precision")
                        .HasColumnName("longitude");

                    b.Property<int?>("NumberOfInjuries")
                        .HasColumnType("integer")
                        .HasColumnName("number_of_injuries");

                    b.Property<string>("PoliceDepartment")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("police_department");

                    b.Property<string>("PoliceOfficerBadge")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("police_officer_badge");

                    b.Property<string>("PoliceOfficerName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("police_officer_name");

                    b.Property<bool>("PoliceReportFiled")
                        .HasColumnType("boolean")
                        .HasColumnName("police_report_filed");

                    b.Property<string>("PoliceReportNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("police_report_number");

                    b.Property<string>("ReviewNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("review_notes");

                    b.Property<DateTime?>("ReviewedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("reviewed_at");

                    b.Property<Guid?>("ReviewedById")
                        .HasColumnType("uuid")
                        .HasColumnName("reviewed_by_id");

                    b.Property<string>("RoadConditions")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("road_conditions");

                    b.Property<string>("Severity")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("severity");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<Guid?>("TripId")
                        .HasColumnType("uuid")
                        .HasColumnName("trip_id");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.Property<string>("VehicleDamageDescription")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("vehicle_damage_description");

                    b.Property<bool>("VehicleDamaged")
                        .HasColumnType("boolean")
                        .HasColumnName("vehicle_damaged");

                    b.Property<bool>("VehicleDrivable")
                        .HasColumnType("boolean")
                        .HasColumnName("vehicle_drivable");

                    b.Property<string>("WeatherConditions")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("weather_conditions");

                    b.HasKey("Id")
                        .HasName("pk_accident_reports");

                    b.HasIndex("ReviewedById")
                        .HasDatabaseName("ix_accident_reports_reviewed_by_id");

                    b.HasIndex("Severity")
                        .HasDatabaseName("ix_accident_reports_severity");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_accident_reports_status");

                    b.HasIndex("TripId")
                        .HasDatabaseName("ix_accident_reports_trip_id");

                    b.HasIndex("TruckId")
                        .HasDatabaseName("ix_accident_reports_truck_id");

                    b.HasIndex("DriverId", "AccidentDateTime")
                        .HasDatabaseName("ix_accident_reports_driver_id_accident_date_time");

                    b.ToTable("accident_reports", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.AccidentThirdParty", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("AccidentReportId")
                        .HasColumnType("uuid")
                        .HasColumnName("accident_report_id");

                    b.Property<string>("Address")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("address");

                    b.Property<string>("DriverLicense")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("driver_license");

                    b.Property<string>("InsuranceAgentPhone")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("insurance_agent_phone");

                    b.Property<string>("InsuranceCompany")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("insurance_company");

                    b.Property<string>("InsurancePolicyNumber")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("insurance_policy_number");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("phone_number");

                    b.Property<string>("VehicleColor")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("vehicle_color");

                    b.Property<string>("VehicleLicensePlate")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("vehicle_license_plate");

                    b.Property<string>("VehicleMake")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("vehicle_make");

                    b.Property<string>("VehicleModel")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("vehicle_model");

                    b.Property<string>("VehicleVin")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("vehicle_vin");

                    b.Property<int?>("VehicleYear")
                        .HasColumnType("integer")
                        .HasColumnName("vehicle_year");

                    b.HasKey("Id")
                        .HasName("pk_accident_third_parties");

                    b.HasIndex("AccidentReportId")
                        .HasDatabaseName("ix_accident_third_parties_accident_report_id");

                    b.ToTable("accident_third_parties", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.AccidentWitness", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid>("AccidentReportId")
                        .HasColumnType("uuid")
                        .HasColumnName("accident_report_id");

                    b.Property<string>("Address")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("address");

                    b.Property<string>("Email")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("email");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("phone_number");

                    b.Property<string>("Statement")
                        .HasMaxLength(4000)
                        .HasColumnType("character varying(4000)")
                        .HasColumnName("statement");

                    b.HasKey("Id")
                        .HasName("pk_accident_witnesses");

                    b.HasIndex("AccidentReportId")
                        .HasDatabaseName("ix_accident_witnesses_accident_report_id");

                    b.ToTable("accident_witnesses", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.DriverBehaviorEvent", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<int?>("DurationSeconds")
                        .HasColumnType("integer")
                        .HasColumnName("duration_seconds");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<string>("EventType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("event_type");

                    b.Property<string>("ExternalEventId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("external_event_id");

                    b.Property<double?>("GForce")
                        .HasColumnType("double precision")
                        .HasColumnName("g_force");

                    b.Property<bool?>("IsDismissed")
                        .HasColumnType("boolean")
                        .HasColumnName("is_dismissed");

                    b.Property<bool>("IsReviewed")
                        .HasColumnType("boolean")
                        .HasColumnName("is_reviewed");

                    b.Property<double?>("Latitude")
                        .HasColumnType("double precision")
                        .HasColumnName("latitude");

                    b.Property<string>("Location")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("location");

                    b.Property<double?>("Longitude")
                        .HasColumnType("double precision")
                        .HasColumnName("longitude");

                    b.Property<DateTime>("OccurredAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("occurred_at");

                    b.Property<string>("ProviderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("provider_type");

                    b.Property<string>("RawEventDataJson")
                        .HasColumnType("text")
                        .HasColumnName("raw_event_data_json");

                    b.Property<string>("ReviewNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("review_notes");

                    b.Property<DateTime?>("ReviewedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("reviewed_at");

                    b.Property<Guid?>("ReviewedById")
                        .HasColumnType("uuid")
                        .HasColumnName("reviewed_by_id");

                    b.Property<double?>("SpeedLimitMph")
                        .HasColumnType("double precision")
                        .HasColumnName("speed_limit_mph");

                    b.Property<double?>("SpeedMph")
                        .HasColumnType("double precision")
                        .HasColumnName("speed_mph");

                    b.Property<Guid?>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.HasKey("Id")
                        .HasName("pk_driver_behavior_events");

                    b.HasIndex("EventType")
                        .HasDatabaseName("ix_driver_behavior_events_event_type");

                    b.HasIndex("ExternalEventId")
                        .HasDatabaseName("ix_driver_behavior_events_external_event_id");

                    b.HasIndex("ReviewedById")
                        .HasDatabaseName("ix_driver_behavior_events_reviewed_by_id");

                    b.HasIndex("TruckId")
                        .HasDatabaseName("ix_driver_behavior_events_truck_id");

                    b.HasIndex("EmployeeId", "OccurredAt")
                        .HasDatabaseName("ix_driver_behavior_events_employee_id_occurred_at");

                    b.ToTable("driver_behavior_events", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.DvirDefect", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("category");

                    b.Property<DateTime?>("CorrectedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("corrected_at");

                    b.Property<Guid?>("CorrectedById")
                        .HasColumnType("uuid")
                        .HasColumnName("corrected_by_id");

                    b.Property<string>("CorrectionNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("correction_notes");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<Guid>("DvirReportId")
                        .HasColumnType("uuid")
                        .HasColumnName("dvir_report_id");

                    b.Property<bool>("IsCorrected")
                        .HasColumnType("boolean")
                        .HasColumnName("is_corrected");

                    b.Property<string>("Severity")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("severity");

                    b.HasKey("Id")
                        .HasName("pk_dvir_defects");

                    b.HasIndex("CorrectedById")
                        .HasDatabaseName("ix_dvir_defects_corrected_by_id");

                    b.HasIndex("DvirReportId")
                        .HasDatabaseName("ix_dvir_defects_dvir_report_id");

                    b.HasIndex("Category", "Severity")
                        .HasDatabaseName("ix_dvir_defects_category_severity");

                    b.ToTable("dvir_defects", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.DvirReport", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<bool?>("DefectsCorrected")
                        .HasColumnType("boolean")
                        .HasColumnName("defects_corrected");

                    b.Property<Guid>("DriverId")
                        .HasColumnType("uuid")
                        .HasColumnName("driver_id");

                    b.Property<string>("DriverNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("driver_notes");

                    b.Property<string>("DriverSignature")
                        .HasColumnType("text")
                        .HasColumnName("driver_signature");

                    b.Property<bool>("HasDefects")
                        .HasColumnType("boolean")
                        .HasColumnName("has_defects");

                    b.Property<DateTime>("InspectionDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("inspection_date");

                    b.Property<double?>("Latitude")
                        .HasColumnType("double precision")
                        .HasColumnName("latitude");

                    b.Property<double?>("Longitude")
                        .HasColumnType("double precision")
                        .HasColumnName("longitude");

                    b.Property<string>("MechanicNotes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("mechanic_notes");

                    b.Property<string>("MechanicSignature")
                        .HasColumnType("text")
                        .HasColumnName("mechanic_signature");

                    b.Property<int?>("OdometerReading")
                        .HasColumnType("integer")
                        .HasColumnName("odometer_reading");

                    b.Property<DateTime?>("ReviewedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("reviewed_at");

                    b.Property<Guid?>("ReviewedById")
                        .HasColumnType("uuid")
                        .HasColumnName("reviewed_by_id");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<Guid?>("TripId")
                        .HasColumnType("uuid")
                        .HasColumnName("trip_id");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.HasKey("Id")
                        .HasName("pk_dvir_reports");

                    b.HasIndex("ReviewedById")
                        .HasDatabaseName("ix_dvir_reports_reviewed_by_id");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_dvir_reports_status");

                    b.HasIndex("TripId")
                        .HasDatabaseName("ix_dvir_reports_trip_id");

                    b.HasIndex("DriverId", "InspectionDate")
                        .HasDatabaseName("ix_dvir_reports_driver_id_inspection_date");

                    b.HasIndex("TruckId", "InspectionDate")
                        .HasDatabaseName("ix_dvir_reports_truck_id_inspection_date");

                    b.ToTable("dvir_reports", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TenantRole", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("DisplayName")
                        .HasColumnType("text")
                        .HasColumnName("display_name");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<string>("NormalizedName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("normalized_name");

                    b.HasKey("Id")
                        .HasName("pk_tenant_roles");

                    b.ToTable("tenant_roles", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TenantRoleClaim", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("ClaimType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("claim_type");

                    b.Property<string>("ClaimValue")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("claim_value");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid")
                        .HasColumnName("role_id");

                    b.HasKey("Id")
                        .HasName("pk_tenant_role_claims");

                    b.HasIndex("RoleId")
                        .HasDatabaseName("ix_tenant_role_claims_role_id");

                    b.ToTable("tenant_role_claims", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TimeEntry", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<DateTime>("Date")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("date");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<TimeSpan>("EndTime")
                        .HasColumnType("interval")
                        .HasColumnName("end_time");

                    b.Property<string>("Notes")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("notes");

                    b.Property<Guid?>("PayrollInvoiceId")
                        .HasColumnType("uuid")
                        .HasColumnName("payroll_invoice_id");

                    b.Property<TimeSpan>("StartTime")
                        .HasColumnType("interval")
                        .HasColumnName("start_time");

                    b.Property<decimal>("TotalHours")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)")
                        .HasColumnName("total_hours");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.HasKey("Id")
                        .HasName("pk_time_entries");

                    b.HasIndex("PayrollInvoiceId")
                        .HasDatabaseName("ix_time_entries_payroll_invoice_id");

                    b.HasIndex("EmployeeId", "Date")
                        .HasDatabaseName("ix_time_entries_employee_id_date");

                    b.ToTable("time_entries", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TrackingLink", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<int>("AccessCount")
                        .HasColumnType("integer")
                        .HasColumnName("access_count");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<Guid>("CreatedByUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("created_by_user_id");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastAccessedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_accessed_at");

                    b.Property<Guid>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("token");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.HasKey("Id")
                        .HasName("pk_tracking_links");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("ix_tracking_links_expires_at");

                    b.HasIndex("LoadId")
                        .HasDatabaseName("ix_tracking_links_load_id");

                    b.HasIndex("Token")
                        .IsUnique()
                        .HasDatabaseName("ix_tracking_links_token");

                    b.ToTable("tracking_links", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Trip", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime?>("CancelledAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("cancelled_at");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("completed_at");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<DateTime?>("DispatchedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dispatched_at");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("name");

                    b.Property<long>("Number")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("number");

                    NpgsqlPropertyBuilderExtensions.UseIdentityAlwaysColumn(b.Property<long>("Number"));

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<double>("TotalDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("total_distance");

                    b.Property<Guid?>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.HasKey("Id")
                        .HasName("pk_trips");

                    b.HasIndex("Number")
                        .IsUnique()
                        .HasDatabaseName("ix_trips_number");

                    b.HasIndex("TruckId")
                        .HasDatabaseName("ix_trips_truck_id");

                    b.ToTable("trips", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TripStop", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime?>("ArrivedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("arrived_at");

                    b.Property<Guid>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.Property<int>("Order")
                        .HasColumnType("integer")
                        .HasColumnName("order");

                    b.Property<Guid>("TripId")
                        .HasColumnType("uuid")
                        .HasColumnName("trip_id");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Address", "Logistics.Domain.Entities.TripStop.Address#Address", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("address_zip_code");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "Location", "Logistics.Domain.Entities.TripStop.Location#GeoPoint", b1 =>
                        {
                            b1.IsRequired();

                            b1.Property<double>("Latitude")
                                .HasColumnType("double precision")
                                .HasColumnName("location_latitude");

                            b1.Property<double>("Longitude")
                                .HasColumnType("double precision")
                                .HasColumnName("location_longitude");
                        });

                    b.HasKey("Id")
                        .HasName("pk_trip_stops");

                    b.HasIndex("LoadId")
                        .HasDatabaseName("ix_trip_stops_load_id");

                    b.HasIndex("TripId")
                        .HasDatabaseName("ix_trip_stops_trip_id");

                    b.ToTable("trip_stops", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Truck", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("LicensePlate")
                        .HasColumnType("text")
                        .HasColumnName("license_plate");

                    b.Property<string>("LicensePlateState")
                        .HasColumnType("text")
                        .HasColumnName("license_plate_state");

                    b.Property<Guid?>("MainDriverId")
                        .HasColumnType("uuid")
                        .HasColumnName("main_driver_id");

                    b.Property<string>("Make")
                        .HasColumnType("text")
                        .HasColumnName("make");

                    b.Property<string>("Model")
                        .HasColumnType("text")
                        .HasColumnName("model");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("number");

                    b.Property<Guid?>("SecondaryDriverId")
                        .HasColumnType("uuid")
                        .HasColumnName("secondary_driver_id");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("status");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<int>("VehicleCapacity")
                        .HasColumnType("integer")
                        .HasColumnName("vehicle_capacity");

                    b.Property<string>("Vin")
                        .HasColumnType("text")
                        .HasColumnName("vin");

                    b.Property<int?>("Year")
                        .HasColumnType("integer")
                        .HasColumnName("year");

                    b.ComplexProperty(typeof(Dictionary<string, object>), "CurrentAddress", "Logistics.Domain.Entities.Truck.CurrentAddress#Address", b1 =>
                        {
                            b1.Property<string>("City")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("current_address_city");

                            b1.Property<string>("Country")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("current_address_country");

                            b1.Property<string>("Line1")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("current_address_line1");

                            b1.Property<string>("Line2")
                                .HasColumnType("text")
                                .HasColumnName("current_address_line2");

                            b1.Property<string>("State")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("current_address_state");

                            b1.Property<string>("ZipCode")
                                .IsRequired()
                                .HasColumnType("text")
                                .HasColumnName("current_address_zip_code");
                        });

                    b.ComplexProperty(typeof(Dictionary<string, object>), "CurrentLocation", "Logistics.Domain.Entities.Truck.CurrentLocation#GeoPoint", b1 =>
                        {
                            b1.Property<double>("Latitude")
                                .HasColumnType("double precision")
                                .HasColumnName("current_location_latitude");

                            b1.Property<double>("Longitude")
                                .HasColumnType("double precision")
                                .HasColumnName("current_location_longitude");
                        });

                    b.HasKey("Id")
                        .HasName("pk_trucks");

                    b.HasIndex("MainDriverId")
                        .HasDatabaseName("ix_trucks_main_driver_id");

                    b.HasIndex("Number")
                        .IsUnique()
                        .HasDatabaseName("ix_trucks_number");

                    b.HasIndex("SecondaryDriverId")
                        .HasDatabaseName("ix_trucks_secondary_driver_id");

                    b.ToTable("trucks", (string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.VehicleConditionReport", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("CreatedAt")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CreatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("CreatedBy");

                    b.Property<string>("DamageMarkersJson")
                        .HasColumnType("jsonb")
                        .HasColumnName("damage_markers_json");

                    b.Property<DateTime>("InspectedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("inspected_at");

                    b.Property<Guid>("InspectedById")
                        .HasColumnType("uuid")
                        .HasColumnName("inspected_by_id");

                    b.Property<string>("InspectorSignature")
                        .HasMaxLength(2048)
                        .HasColumnType("character varying(2048)")
                        .HasColumnName("inspector_signature");

                    b.Property<double?>("Latitude")
                        .HasColumnType("double precision")
                        .HasColumnName("latitude");

                    b.Property<Guid>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.Property<double?>("Longitude")
                        .HasColumnType("double precision")
                        .HasColumnName("longitude");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("notes");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("LastModifiedAt");

                    b.Property<string>("UpdatedBy")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("LastModifiedBy");

                    b.Property<string>("VehicleBodyClass")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("vehicle_body_class");

                    b.Property<string>("VehicleMake")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("vehicle_make");

                    b.Property<string>("VehicleModel")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("vehicle_model");

                    b.Property<int?>("VehicleYear")
                        .HasColumnType("integer")
                        .HasColumnName("vehicle_year");

                    b.Property<string>("Vin")
                        .IsRequired()
                        .HasMaxLength(17)
                        .HasColumnType("character varying(17)")
                        .HasColumnName("vin");

                    b.HasKey("Id")
                        .HasName("pk_vehicle_condition_reports");

                    b.HasIndex("InspectedAt")
                        .HasDatabaseName("ix_vehicle_condition_reports_inspected_at");

                    b.HasIndex("InspectedById")
                        .HasDatabaseName("ix_vehicle_condition_reports_inspected_by_id");

                    b.HasIndex("LoadId")
                        .HasDatabaseName("ix_vehicle_condition_reports_load_id");

                    b.HasIndex("Vin")
                        .HasDatabaseName("ix_vehicle_condition_reports_vin");

                    b.ToTable("vehicle_condition_reports", (string)null);
                });

            modelBuilder.Entity("Logistics.Shared.Models.CompanyStatsDto", b =>
                {
                    b.Property<int>("ActiveLoadsCount")
                        .HasColumnType("integer")
                        .HasColumnName("active_loads_count");

                    b.Property<int>("DispatchersCount")
                        .HasColumnType("integer")
                        .HasColumnName("dispatchers_count");

                    b.Property<int>("DriversCount")
                        .HasColumnType("integer")
                        .HasColumnName("drivers_count");

                    b.Property<int>("EmployeesCount")
                        .HasColumnType("integer")
                        .HasColumnName("employees_count");

                    b.Property<int>("IdleTrucksCount")
                        .HasColumnType("integer")
                        .HasColumnName("idle_trucks_count");

                    b.Property<double>("LastMonthDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("last_month_distance");

                    b.Property<decimal>("LastMonthGross")
                        .HasColumnType("numeric")
                        .HasColumnName("last_month_gross");

                    b.Property<double>("LastThreeMonthsDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("last_three_months_distance");

                    b.Property<decimal>("LastThreeMonthsGross")
                        .HasColumnType("numeric")
                        .HasColumnName("last_three_months_gross");

                    b.Property<double>("LastWeekDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("last_week_distance");

                    b.Property<decimal>("LastWeekGross")
                        .HasColumnType("numeric")
                        .HasColumnName("last_week_gross");

                    b.Property<double>("LastYearDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("last_year_distance");

                    b.Property<decimal>("LastYearGross")
                        .HasColumnType("numeric")
                        .HasColumnName("last_year_gross");

                    b.Property<int>("ManagersCount")
                        .HasColumnType("integer")
                        .HasColumnName("managers_count");

                    b.Property<decimal>("OutstandingInvoiceTotal")
                        .HasColumnType("numeric")
                        .HasColumnName("outstanding_invoice_total");

                    b.Property<int>("OverdueInvoiceCount")
                        .HasColumnType("integer")
                        .HasColumnName("overdue_invoice_count");

                    b.Property<string>("OwnerName")
                        .HasColumnType("text")
                        .HasColumnName("owner_name");

                    b.Property<decimal>("PaymentsReceivedThisWeek")
                        .HasColumnType("numeric")
                        .HasColumnName("payments_received_this_week");

                    b.Property<double>("ThisMonthDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("this_month_distance");

                    b.Property<decimal>("ThisMonthGross")
                        .HasColumnType("numeric")
                        .HasColumnName("this_month_gross");

                    b.Property<double>("ThisWeekDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("this_week_distance");

                    b.Property<decimal>("ThisWeekGross")
                        .HasColumnType("numeric")
                        .HasColumnName("this_week_gross");

                    b.Property<double>("TotalDistance")
                        .HasColumnType("double precision")
                        .HasColumnName("total_distance");

                    b.Property<decimal>("TotalGross")
                        .HasColumnType("numeric")
                        .HasColumnName("total_gross");

                    b.Property<int>("TrucksCount")
                        .HasColumnType("integer")
                        .HasColumnName("trucks_count");

                    b.Property<int>("UnassignedLoadsCount")
                        .HasColumnType("integer")
                        .HasColumnName("unassigned_loads_count");

                    b.ToTable((string)null);
                });

            modelBuilder.Entity("Logistics.Shared.Models.TruckStatsDto", b =>
                {
                    b.Property<double>("Distance")
                        .HasColumnType("double precision")
                        .HasColumnName("distance");

                    b.Property<decimal>("DriverShare")
                        .HasColumnType("numeric")
                        .HasColumnName("driver_share");

                    b.Property<string>("Drivers")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("drivers");

                    b.Property<DateTime>("EndDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("end_date");

                    b.Property<decimal>("Gross")
                        .HasColumnType("numeric")
                        .HasColumnName("gross");

                    b.Property<DateTime>("StartDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("start_date");

                    b.Property<int>("TotalItems")
                        .HasColumnType("integer")
                        .HasColumnName("total_items");

                    b.Property<Guid?>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<string>("TruckNumber")
                        .HasColumnType("text")
                        .HasColumnName("truck_number");

                    b.ToTable((string)null);
                });

            modelBuilder.Entity("Logistics.Domain.Entities.EmployeeDocument", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Document");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.HasIndex("EmployeeId")
                        .HasDatabaseName("ix_documents_employee_id");

                    b.ToTable("documents", (string)null);

                    b.HasDiscriminator().HasValue("employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadDocument", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Document");

                    b.Property<Guid>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.Property<Guid?>("VehicleConditionReportId")
                        .HasColumnType("uuid")
                        .HasColumnName("vehicle_condition_report_id");

                    b.HasIndex("LoadId")
                        .HasDatabaseName("ix_documents_load_id");

                    b.HasIndex("VehicleConditionReportId")
                        .HasDatabaseName("ix_documents_vehicle_condition_report_id");

                    b.ToTable("documents", (string)null);

                    b.HasDiscriminator().HasValue("load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TruckDocument", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Document");

                    b.Property<Guid?>("AccidentReportId")
                        .HasColumnType("uuid")
                        .HasColumnName("accident_report_id");

                    b.Property<Guid?>("DvirReportId")
                        .HasColumnType("uuid")
                        .HasColumnName("dvir_report_id");

                    b.Property<Guid?>("MaintenanceRecordId")
                        .HasColumnType("uuid")
                        .HasColumnName("maintenance_record_id");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.HasIndex("AccidentReportId")
                        .HasDatabaseName("ix_documents_accident_report_id");

                    b.HasIndex("DvirReportId")
                        .HasDatabaseName("ix_documents_dvir_report_id");

                    b.HasIndex("MaintenanceRecordId")
                        .HasDatabaseName("ix_documents_maintenance_record_id");

                    b.HasIndex("TruckId")
                        .HasDatabaseName("ix_documents_truck_id");

                    b.ToTable("documents", (string)null);

                    b.HasDiscriminator().HasValue("truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.BodyShopExpense", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Expense");

                    b.Property<DateTime?>("ActualCompletionDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("actual_completion_date");

                    b.Property<DateTime?>("EstimatedCompletionDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("estimated_completion_date");

                    b.Property<string>("RepairDescription")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("repair_description");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.Property<string>("VendorAddress")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("vendor_address");

                    b.Property<string>("VendorPhone")
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("vendor_phone");

                    b.HasIndex("TruckId")
                        .HasDatabaseName("ix_expenses_truck_id");

                    b.ToTable("expenses", (string)null);

                    b.HasDiscriminator().HasValue("body_shop");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.CompanyExpense", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Expense");

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("category");

                    b.ToTable("expenses", (string)null);

                    b.HasDiscriminator().HasValue("company");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TruckExpense", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Expense");

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("category");

                    b.Property<int?>("OdometerReading")
                        .HasColumnType("integer")
                        .HasColumnName("odometer_reading");

                    b.Property<Guid>("TruckId")
                        .HasColumnType("uuid")
                        .HasColumnName("truck_id");

                    b.HasIndex("TruckId")
                        .HasDatabaseName("ix_expenses_truck_id1");

                    b.ToTable("expenses", null, t =>
                        {
                            t.Property("Category")
                                .HasColumnName("truck_expense_category");

                            t.Property("TruckId")
                                .HasColumnName("truck_expense_truck_id");
                        });

                    b.HasDiscriminator().HasValue("truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadInvoice", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Invoice");

                    b.Property<Guid>("CustomerId")
                        .HasColumnType("uuid")
                        .HasColumnName("customer_id");

                    b.Property<Guid>("LoadId")
                        .HasColumnType("uuid")
                        .HasColumnName("load_id");

                    b.HasIndex("CustomerId")
                        .HasDatabaseName("ix_invoices_customer_id");

                    b.HasIndex("LoadId")
                        .IsUnique()
                        .HasDatabaseName("ix_invoices_load_id");

                    b.ToTable("invoices", (string)null);

                    b.HasDiscriminator().HasValue("load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PayrollInvoice", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Invoice");

                    b.Property<string>("ApprovalNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("approval_notes");

                    b.Property<DateTime?>("ApprovedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("approved_at");

                    b.Property<Guid?>("ApprovedById")
                        .HasColumnType("uuid")
                        .HasColumnName("approved_by_id");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid")
                        .HasColumnName("employee_id");

                    b.Property<DateTime>("PeriodEnd")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("period_end");

                    b.Property<DateTime>("PeriodStart")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("period_start");

                    b.Property<string>("RejectionReason")
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("rejection_reason");

                    b.Property<double>("TotalDistanceDriven")
                        .HasColumnType("double precision")
                        .HasColumnName("total_distance_driven");

                    b.Property<decimal>("TotalHoursWorked")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)")
                        .HasColumnName("total_hours_worked");

                    b.HasIndex("EmployeeId")
                        .HasDatabaseName("ix_invoices_employee_id");

                    b.ToTable("invoices", (string)null);

                    b.HasDiscriminator().HasValue("payroll");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.SubscriptionInvoice", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.Invoice");

                    b.Property<DateTime>("BillingPeriodEnd")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("billing_period_end");

                    b.Property<DateTime>("BillingPeriodStart")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("billing_period_start");

                    b.Property<Guid>("SubscriptionId")
                        .HasColumnType("uuid")
                        .HasColumnName("subscription_id");

                    b.ToTable("invoices", (string)null);

                    b.HasDiscriminator().HasValue("subscription");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.BankAccountPaymentMethod", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.PaymentMethod");

                    b.Property<string>("AccountHolderName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("account_holder_name");

                    b.Property<string>("AccountNumber")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("account_number");

                    b.Property<string>("BankName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("bank_name");

                    b.Property<string>("SwiftCode")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("swift_code");

                    b.ToTable("payment_methods", (string)null);

                    b.HasDiscriminator().HasValue("international_bank_account");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.CardPaymentMethod", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.PaymentMethod");

                    b.Property<string>("CardHolderName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("card_holder_name");

                    b.Property<string>("CardNumber")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("card_number");

                    b.Property<string>("Cvc")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("cvc");

                    b.Property<int>("ExpMonth")
                        .HasColumnType("integer")
                        .HasColumnName("exp_month");

                    b.Property<int>("ExpYear")
                        .HasColumnType("integer")
                        .HasColumnName("exp_year");

                    b.ToTable("payment_methods", (string)null);

                    b.HasDiscriminator().HasValue("card");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.UsBankAccountPaymentMethod", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.PaymentMethod");

                    b.Property<string>("AccountHolderName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("account_holder_name");

                    b.Property<string>("AccountHolderType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("account_holder_type");

                    b.Property<string>("AccountNumber")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("account_number");

                    b.Property<string>("AccountType")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("account_type");

                    b.Property<string>("BankName")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("bank_name");

                    b.Property<string>("RoutingNumber")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("routing_number");

                    b.Property<string>("VerificationUrl")
                        .HasColumnType("text")
                        .HasColumnName("verification_url");

                    b.ToTable("payment_methods", null, t =>
                        {
                            t.Property("AccountHolderName")
                                .HasColumnName("us_bank_account_payment_method_account_holder_name");

                            t.Property("AccountNumber")
                                .HasColumnName("us_bank_account_payment_method_account_number");

                            t.Property("BankName")
                                .HasColumnName("us_bank_account_payment_method_bank_name");
                        });

                    b.HasDiscriminator().HasValue("us_bank_account");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.DeliveryDocument", b =>
                {
                    b.HasBaseType("Logistics.Domain.Entities.LoadDocument");

                    b.Property<double?>("CaptureLatitude")
                        .HasColumnType("double precision")
                        .HasColumnName("capture_latitude");

                    b.Property<double?>("CaptureLongitude")
                        .HasColumnType("double precision")
                        .HasColumnName("capture_longitude");

                    b.Property<DateTime?>("CapturedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("captured_at");

                    b.Property<string>("Notes")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("notes");

                    b.Property<string>("RecipientName")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("recipient_name");

                    b.Property<string>("RecipientSignature")
                        .HasMaxLength(2048)
                        .HasColumnType("character varying(2048)")
                        .HasColumnName("recipient_signature");

                    b.Property<Guid?>("TripStopId")
                        .HasColumnType("uuid")
                        .HasColumnName("trip_stop_id");

                    b.HasIndex("TripStopId")
                        .HasDatabaseName("ix_documents_trip_stop_id");

                    b.ToTable("documents", (string)null);

                    b.HasDiscriminator().HasValue("delivery");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.CustomerUser", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Customer", "Customer")
                        .WithMany()
                        .HasForeignKey("CustomerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_customer_users_customers_customer_id");

                    b.Navigation("Customer");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Document", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "UploadedBy")
                        .WithMany()
                        .HasForeignKey("UploadedById")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_documents_employee_uploaded_by_id");

                    b.Navigation("UploadedBy");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.DriverHosStatus", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany()
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_driver_hos_statuses_employee_employee_id");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.EldDriverMapping", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany()
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_eld_driver_mappings_employee_employee_id");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.EldVehicleMapping", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_eld_vehicle_mappings_truck_truck_id");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Employee", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.TenantRole", "Role")
                        .WithMany("Employees")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_employees_tenant_role_role_id");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.HosLog", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany()
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_hos_logs_employees_employee_id");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.HosViolation", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany()
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_hos_violations_employees_employee_id");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.InvoiceLineItem", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Invoice", "Invoice")
                        .WithMany("LineItems")
                        .HasForeignKey("InvoiceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_invoice_line_items_invoices_invoice_id");

                    b.Navigation("Invoice");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Load", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "AssignedDispatcher")
                        .WithMany("DispatchedLoads")
                        .HasForeignKey("AssignedDispatcherId")
                        .HasConstraintName("fk_loads_employees_assigned_dispatcher_id");

                    b.HasOne("Logistics.Domain.Entities.Truck", "AssignedTruck")
                        .WithMany("Loads")
                        .HasForeignKey("AssignedTruckId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_loads_truck_assigned_truck_id");

                    b.HasOne("Logistics.Domain.Entities.Customer", "Customer")
                        .WithMany()
                        .HasForeignKey("CustomerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_loads_customers_customer_id");

                    b.Navigation("AssignedDispatcher");

                    b.Navigation("AssignedTruck");

                    b.Navigation("Customer");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadBoardListing", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithMany()
                        .HasForeignKey("LoadId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_load_board_listings_load_load_id");

                    b.Navigation("Load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadException", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithMany("Exceptions")
                        .HasForeignKey("LoadId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_load_exceptions_loads_load_id");

                    b.Navigation("Load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Maintenance.MaintenancePart", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Maintenance.MaintenanceRecord", "MaintenanceRecord")
                        .WithMany("Parts")
                        .HasForeignKey("MaintenanceRecordId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_maintenance_parts_maintenance_record_maintenance_record_id");

                    b.Navigation("MaintenanceRecord");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Maintenance.MaintenanceRecord", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Maintenance.MaintenanceSchedule", "MaintenanceSchedule")
                        .WithMany()
                        .HasForeignKey("MaintenanceScheduleId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_maintenance_records_maintenance_schedule_maintenance_schedu");

                    b.HasOne("Logistics.Domain.Entities.Employee", "PerformedBy")
                        .WithMany()
                        .HasForeignKey("PerformedById")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_maintenance_records_employees_performed_by_id");

                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_maintenance_records_truck_truck_id");

                    b.Navigation("MaintenanceSchedule");

                    b.Navigation("PerformedBy");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Maintenance.MaintenanceSchedule", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_maintenance_schedules_truck_truck_id");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.Conversation", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithMany()
                        .HasForeignKey("LoadId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_conversations_load_load_id");

                    b.Navigation("Load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.ConversationParticipant", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Messaging.Conversation", "Conversation")
                        .WithMany("Participants")
                        .HasForeignKey("ConversationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_conversation_participants_conversations_conversation_id");

                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany()
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_conversation_participants_employee_employee_id");

                    b.Navigation("Conversation");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.Message", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Messaging.Conversation", "Conversation")
                        .WithMany("Messages")
                        .HasForeignKey("ConversationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_messages_conversations_conversation_id");

                    b.HasOne("Logistics.Domain.Entities.Employee", "Sender")
                        .WithMany()
                        .HasForeignKey("SenderId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_messages_employees_sender_id");

                    b.Navigation("Conversation");

                    b.Navigation("Sender");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.MessageReadReceipt", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Messaging.Message", "Message")
                        .WithMany("ReadReceipts")
                        .HasForeignKey("MessageId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_message_read_receipts_messages_message_id");

                    b.HasOne("Logistics.Domain.Entities.Employee", "ReadBy")
                        .WithMany()
                        .HasForeignKey("ReadById")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_message_read_receipts_employees_read_by_id");

                    b.Navigation("Message");

                    b.Navigation("ReadBy");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Payment", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Invoice", null)
                        .WithMany("Payments")
                        .HasForeignKey("InvoiceId")
                        .HasConstraintName("fk_payments_invoices_invoice_id");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PaymentLink", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Invoice", "Invoice")
                        .WithMany("PaymentLinks")
                        .HasForeignKey("InvoiceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_payment_links_invoices_invoice_id");

                    b.Navigation("Invoice");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PostedTruck", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_posted_trucks_truck_truck_id");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.AccidentReport", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Driver")
                        .WithMany()
                        .HasForeignKey("DriverId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_accident_reports_employee_driver_id");

                    b.HasOne("Logistics.Domain.Entities.Employee", "ReviewedBy")
                        .WithMany()
                        .HasForeignKey("ReviewedById")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_accident_reports_employee_reviewed_by_id");

                    b.HasOne("Logistics.Domain.Entities.Trip", "Trip")
                        .WithMany()
                        .HasForeignKey("TripId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_accident_reports_trip_trip_id");

                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_accident_reports_truck_truck_id");

                    b.Navigation("Driver");

                    b.Navigation("ReviewedBy");

                    b.Navigation("Trip");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.AccidentThirdParty", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Safety.AccidentReport", "AccidentReport")
                        .WithMany("ThirdParties")
                        .HasForeignKey("AccidentReportId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_accident_third_parties_accident_reports_accident_report_id");

                    b.Navigation("AccidentReport");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.AccidentWitness", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Safety.AccidentReport", "AccidentReport")
                        .WithMany("Witnesses")
                        .HasForeignKey("AccidentReportId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_accident_witnesses_accident_reports_accident_report_id");

                    b.Navigation("AccidentReport");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.DriverBehaviorEvent", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany()
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_driver_behavior_events_employee_employee_id");

                    b.HasOne("Logistics.Domain.Entities.Employee", "ReviewedBy")
                        .WithMany()
                        .HasForeignKey("ReviewedById")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_driver_behavior_events_employee_reviewed_by_id");

                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_driver_behavior_events_truck_truck_id");

                    b.Navigation("Employee");

                    b.Navigation("ReviewedBy");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.DvirDefect", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "CorrectedBy")
                        .WithMany()
                        .HasForeignKey("CorrectedById")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_dvir_defects_employee_corrected_by_id");

                    b.HasOne("Logistics.Domain.Entities.Safety.DvirReport", "DvirReport")
                        .WithMany("Defects")
                        .HasForeignKey("DvirReportId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_dvir_defects_dvir_report_dvir_report_id");

                    b.Navigation("CorrectedBy");

                    b.Navigation("DvirReport");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.DvirReport", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Driver")
                        .WithMany()
                        .HasForeignKey("DriverId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_dvir_reports_employee_driver_id");

                    b.HasOne("Logistics.Domain.Entities.Employee", "ReviewedBy")
                        .WithMany()
                        .HasForeignKey("ReviewedById")
                        .OnDelete(DeleteBehavior.Restrict)
                        .HasConstraintName("fk_dvir_reports_employee_reviewed_by_id");

                    b.HasOne("Logistics.Domain.Entities.Trip", "Trip")
                        .WithMany()
                        .HasForeignKey("TripId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_dvir_reports_trip_trip_id");

                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_dvir_reports_truck_truck_id");

                    b.Navigation("Driver");

                    b.Navigation("ReviewedBy");

                    b.Navigation("Trip");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TenantRoleClaim", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.TenantRole", "Role")
                        .WithMany("Claims")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_tenant_role_claims_tenant_role_role_id");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TimeEntry", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany("TimeEntries")
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_time_entries_employees_employee_id");

                    b.HasOne("Logistics.Domain.Entities.PayrollInvoice", "PayrollInvoice")
                        .WithMany("TimeEntries")
                        .HasForeignKey("PayrollInvoiceId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_time_entries_invoice_payroll_invoice_id");

                    b.Navigation("Employee");

                    b.Navigation("PayrollInvoice");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TrackingLink", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithMany()
                        .HasForeignKey("LoadId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_tracking_links_loads_load_id");

                    b.Navigation("Load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Trip", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany("Trips")
                        .HasForeignKey("TruckId")
                        .HasConstraintName("fk_trips_truck_truck_id");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TripStop", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithMany("TripStops")
                        .HasForeignKey("LoadId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_trip_stops_loads_load_id");

                    b.HasOne("Logistics.Domain.Entities.Trip", "Trip")
                        .WithMany("Stops")
                        .HasForeignKey("TripId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_trip_stops_trips_trip_id");

                    b.Navigation("Load");

                    b.Navigation("Trip");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Truck", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "MainDriver")
                        .WithMany()
                        .HasForeignKey("MainDriverId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_trucks_employees_main_driver_id");

                    b.HasOne("Logistics.Domain.Entities.Employee", "SecondaryDriver")
                        .WithMany()
                        .HasForeignKey("SecondaryDriverId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_trucks_employees_secondary_driver_id");

                    b.Navigation("MainDriver");

                    b.Navigation("SecondaryDriver");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.VehicleConditionReport", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "InspectedBy")
                        .WithMany()
                        .HasForeignKey("InspectedById")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_vehicle_condition_reports_employees_inspected_by_id");

                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithMany()
                        .HasForeignKey("LoadId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_vehicle_condition_reports_loads_load_id");

                    b.Navigation("InspectedBy");

                    b.Navigation("Load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.EmployeeDocument", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany("Documents")
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_documents_employees_employee_id");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadDocument", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithMany("Documents")
                        .HasForeignKey("LoadId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_documents_loads_load_id");

                    b.HasOne("Logistics.Domain.Entities.VehicleConditionReport", null)
                        .WithMany("Photos")
                        .HasForeignKey("VehicleConditionReportId")
                        .HasConstraintName("fk_documents_vehicle_condition_reports_vehicle_condition_repor");

                    b.Navigation("Load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TruckDocument", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Safety.AccidentReport", null)
                        .WithMany("Documents")
                        .HasForeignKey("AccidentReportId")
                        .HasConstraintName("fk_documents_accident_reports_accident_report_id");

                    b.HasOne("Logistics.Domain.Entities.Safety.DvirReport", null)
                        .WithMany("Photos")
                        .HasForeignKey("DvirReportId")
                        .HasConstraintName("fk_documents_dvir_reports_dvir_report_id");

                    b.HasOne("Logistics.Domain.Entities.Maintenance.MaintenanceRecord", null)
                        .WithMany("Documents")
                        .HasForeignKey("MaintenanceRecordId")
                        .HasConstraintName("fk_documents_maintenance_records_maintenance_record_id");

                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany("Documents")
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_documents_trucks_truck_id");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.BodyShopExpense", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_expenses_trucks_truck_id");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TruckExpense", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Truck", "Truck")
                        .WithMany()
                        .HasForeignKey("TruckId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_expenses_trucks_truck_id1");

                    b.Navigation("Truck");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.LoadInvoice", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Customer", "Customer")
                        .WithMany("Invoices")
                        .HasForeignKey("CustomerId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_invoices_customers_customer_id");

                    b.HasOne("Logistics.Domain.Entities.Load", "Load")
                        .WithOne("Invoice")
                        .HasForeignKey("Logistics.Domain.Entities.LoadInvoice", "LoadId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_invoices_loads_load_id");

                    b.Navigation("Customer");

                    b.Navigation("Load");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PayrollInvoice", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.Employee", "Employee")
                        .WithMany("PayrollInvoices")
                        .HasForeignKey("EmployeeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_invoices_employees_employee_id");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.DeliveryDocument", b =>
                {
                    b.HasOne("Logistics.Domain.Entities.TripStop", "TripStop")
                        .WithMany()
                        .HasForeignKey("TripStopId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_documents_trip_stops_trip_stop_id");

                    b.Navigation("TripStop");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Customer", b =>
                {
                    b.Navigation("Invoices");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Employee", b =>
                {
                    b.Navigation("DispatchedLoads");

                    b.Navigation("Documents");

                    b.Navigation("PayrollInvoices");

                    b.Navigation("TimeEntries");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Invoice", b =>
                {
                    b.Navigation("LineItems");

                    b.Navigation("PaymentLinks");

                    b.Navigation("Payments");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Load", b =>
                {
                    b.Navigation("Documents");

                    b.Navigation("Exceptions");

                    b.Navigation("Invoice");

                    b.Navigation("TripStops");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Maintenance.MaintenanceRecord", b =>
                {
                    b.Navigation("Documents");

                    b.Navigation("Parts");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.Conversation", b =>
                {
                    b.Navigation("Messages");

                    b.Navigation("Participants");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Messaging.Message", b =>
                {
                    b.Navigation("ReadReceipts");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.AccidentReport", b =>
                {
                    b.Navigation("Documents");

                    b.Navigation("ThirdParties");

                    b.Navigation("Witnesses");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Safety.DvirReport", b =>
                {
                    b.Navigation("Defects");

                    b.Navigation("Photos");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.TenantRole", b =>
                {
                    b.Navigation("Claims");

                    b.Navigation("Employees");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Trip", b =>
                {
                    b.Navigation("Stops");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.Truck", b =>
                {
                    b.Navigation("Documents");

                    b.Navigation("Loads");

                    b.Navigation("Trips");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.VehicleConditionReport", b =>
                {
                    b.Navigation("Photos");
                });

            modelBuilder.Entity("Logistics.Domain.Entities.PayrollInvoice", b =>
                {
                    b.Navigation("TimeEntries");
                });
#pragma warning restore 612, 618
        }
    }
}
